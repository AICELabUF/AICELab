<!DOCTYPE html>
<html lang="en">
 
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        h3 {
            text-align: center;
        }
        
        #content {
            text-indent: 2em;
        }
    </style>
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
</head>
 
<body>
    <h3>从零开发一个淘宝客公众号【嗨皮搜券】</h3>
    <!-- <span id="content">
            春节在家期间研究了一下淘宝客开放平台，并写了一个公众号【嗨皮搜券】，
   </span> -->
   <ul id='content'>testing ------Publications in 2014</ul>

   <ul id='moreContent' style='visibility: hidden;'>
     more Publications
   </ul>
   <script>

</script>


    <a href="javascript:;" id="btn">
        >>>展开</a>
            <script type="text/javascript">

                getArticles()
              //  console.log(getArticles())

                //获取button按钮
                var btn = document.getElementById('btn');

                //获取p
                var content = document.getElementById('content');


                //获取p中的内容
                var str = content.innerHTML;
                console.log(str)

                // var moreContent=document.getElementById('moreContent')
              //  var moreStr = moreArticles
            ///    console.log()
            //    console.log(moreStr)

                //定义一个变量，表示当前的状态（收缩、展开）
                var onOff = true; // true表示展开
                btn.onclick = function() {
                    if (onOff) {
                    //     content.innerHTML =str
                    //     btn.innerHTML = '>>>展开'
                    // } 
                    // else {
                        //说明当前状态是收缩的，需要展开
                        content.innerHTML = str + moreStr
                        btn.innerHTML = '<<<收缩';
                    }
                    else{
                        content.innerHTML = str;
                        btn.innerHTML = '>>>展开';
                    }
                    onOff = !onOff; //每点击一次，改变一次展开、收缩状态
                    return false; //阻止a标签的默认事件
                }

                
       function getArticles(){
            var strArticles=""
            var moreArticles=""
            $.get('data/xingArticlesFull.json',function(data){
                data.forEach(function(item,index){
                //console.log(index)
                item[1]=item[1].replace('W Xing','<strong>W Xing</strong>')
                item[1]=item[1].replace('X Wan-li','<strong>X Wan-li</strong>')
                if(parseInt(item[3])===2021){
                    var article=item[1]+". "+"("+item[3]+")"+". "+item[0]+'. '+item[2]+"."+ " <strong>IF:</strong> "+ item[4]+". "+'<a href=../pdfs/'+item[5]+'><strong>PDF</strong></a>'
                    strArticles+='<li>'+article+'</li>'
                }     
                else{
                    var article=item[1]+". "+"("+item[3]+")"+". "+item[0]+'. '+item[2]+"."+ " <strong>IF:</strong> "+ item[4]+". "+'<a href=../pdfs/'+item[5]+'><strong>PDF</strong></a>'
                    moreArticles+='<li>'+article+'</li>'
                }
            })
        })
        
        return strArticles, moreArticles
    }
            </script>
                

          
</body>
 
</html>